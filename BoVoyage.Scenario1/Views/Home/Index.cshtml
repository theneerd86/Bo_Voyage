@{
    ViewBag.Title = "Accueil";
    Layout = "~/Views/Shared/_LayoutAffVoyage.cshtml";
}

<!--
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYi
qJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
-->
<div>
    <div class="jumbotron">
        <h1> ! Bo Voyage par Wattapik ! </h1>
        <p class="lead"> Choisissez Wattapik pour des voyages funs et exceptionnels dont vous vous souviendrez toute votre vie.</p>
    </div>

    <script src="/Scripts/jquery-3.4.1.min.js"></script>
    <style>
        #div1 {
            display: flex;
            justify-content: center;
        }

        .tailleimage {
            /*width: 80%;*/
            height: 70%;
            margin: 10px;
        }

        .dimTd {
            text-align: center;
            width: 150px;
            height: 190px;
            margin: 5px;
        }

        .max-lines{
            display: block; /* or inline-block */
            text-overflow: ellipsis;
            word-wrap: break-word;
            overflow: hidden;
            max-height: 5em;
            line-height: 1.8em;
        }

    </style>

    <h1 style="text-align:center">Liste des voyages proposés</h1>

    <h3 style="color: @ViewBag.color">@ViewBag.ajoutok</h3>
    <div>
        Voyage :
        <select id="lieu">
            <option> </option>
            <option value="Continent"> Continent</option>
            <option value="Pays"> Pays</option>
            <option value="Region"> Region</option>
        </select>
        <input type="text" id="txtlieu" />
        <br /> <br />
        <input type="button" id="listeVoyageTrie" onclick="ListVoyageTri()" value="Go" />
        <br /> <br />

        <!-------------------------------------------------
        //Essai présentation avant mise en place JS
        -------------------------------------------------->
        <!--<table border=0  width="75%" cellpadding="5" cellspacing="20">
        <tr valign="top">
            <td>
                <div class="col-lg-4">
                    <div class="card" style="width: 30rem;">
                        <div align="center">
                            <img src="~/Photo/bresil1.jpg" width="100%" height="300px"/>
                        </div>
                        <div class="card-body">
                            <h3 class="card-title"> Bresil </h3>
                            <p class="card-text max-lines" style="text-align:justify" >
                                Pourquoi aller au Brésil ? Tout simplement pour son exubérance, sa nature, son histoire, la culture de ses tribus amazoniennes.
                                Il y a quelque chose d’irrationnel au Brésil, qui stimule la joie de vivre. Naturellement chaleureux et accueillants, les Brésiliens n’ont que peu d’efforts à faire pour enchanter le visiteur. Mais ce qui rend un voyage au Brésil à nul autre pareil, c’est que cette atmosphère unique s’ajoute à l’impressionnant panel de richesses du géant sud-américain.
                            </p>
                            <p><strong title="Pourquoi aller au Brésil ? Tout simplement pour son exubérance, sa nature, son histoire, la culture de ses tribus amazoniennes. Il y a quelque chose d’irrationnel au Brésil, qui stimule la joie de vivre. Naturellement chaleureux et accueillants, les Brésiliens n’ont que peu d’efforts à faire pour enchanter le visiteur. Mais ce qui rend un voyage au Brésil à nul autre pareil, c’est que cette atmosphère unique s’ajoute à l’impressionnant panel de richesses du géant sud-américain.">...</strong></p>
                            <a href="#" class="btn btn-primary">A partir de 800 €</a>
                        </div>
                    </div>
                </div>
            </td>
            <td>
                <div class="col-lg-4">
                    <div class="card" style="width: 30rem;">
                        <div align="center">
                            <img src="~/Photo/cuba1.jpg" width="100%" height="300px"/>
                        </div>
                        <div class="card-body">
                            <h3 class="card-title"> Cuba </h3>
                            <p class="card-text max-lines">
                                Un classique entre ville et mer ! Ce voyage vous promet modernité, élégance et confort, situé au cœur du quartier des affaires de La Havane, en face du Miramar Trade Center et à proximité du front de mer.
                                Cet hôtel propose une connexion Wi-Fi gratuite et est entièrement non-fumeurs, conformément aux tendances actuelles de l'industrie hôtelière.
                                Recommandé pour les voyages d’affaires, les voyages d'incitation, les mariages et les lunes de miel.
                            </p>
                            <a href="#" class="btn btn-primary"> A partir de 500 €</a>
                        </div>
                    </div>
                </div>
            </td>
            <td>
                <div class="col-lg-4">
                    <div class="card" style="width: 30rem;">
                        <div align="center">
                            <img src="~/Photo/kenya2.jpg" width="100%" height="300px"/>
                        </div>
                        <div class="card-body">
                            <h3 class="card-title max-lines"> Kenya </h3>
                            <p class="card-text max-lines">Un voyage au Kenya, destination des safaris par excellence, est l’occasion de découvrir une nature puissante et omniprésente et de rencontrer le peuple masaï, gardien de ce paradis aux traditions ancestrales. Nos spécialistes de l'Afrique ont concocté pour vous les meilleures offres de circuits accompagnés et de safaris au Kenya… À vous de choisir l’itinéraire de vos rêves, sur les pistes de Karen Blixen et d’Hemingway…</p>
                            <a href="#" class="btn btn-primary">A partir de 700 €</a>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
        <tr valign="top">
            <td>
                <div class="col-lg-4">
                    <div class="card" style="width: 30rem;">
                        <div align="center">
                            <img src="~/Photo/stras.jpg" width="100%" height="300px"/>
                        </div>
                        <div class="card-body">
                            <h3 class="card-title"> Islande </h3>
                            <p class="card-text max-lines">
                                L'Islande est un petit paradis sur Terre.
                                Ce petit bout de terre compte un peu plus de 300 000 habitants dont la plus part résident à la capitale, Reykjavik.
                                Le reste de la population est réparti dans de petits villages sur le littoral qui contourne le pays.
                                Offrez-vous l'Islande en croisière ou lors d'un circuit inoubliable ! Fjords, geysers, aurores boréales, champs de lave, faune aquatique incroyable…
                                les paysages sont à couper le souffle et la rencontre avec la nature unique.

                            </p>
                            <a href="#" class="btn btn-primary">A partir de 1 500 €</a>
                        </div>
                    </div>
                </div>
            </td>
            <td>
                <div class="col-lg-4">
                    <div class="card" style="width: 30rem;">
                        <div align="center">
                            <img src="~/Photo/seychelles.jpg" width="100%" height="300px" />
                        </div>
                        <div class="card-body">
                            <h3 class="card-title"> Seychelles </h3>
                            <p class="card-text max-lines">
                                Les Seychelles…rien que le nom nous invite au rêve. Cet archipel, composé de pas moins de 115 îles et îlots, se situe au beau milieu de l’Océan Indien, au nord-est de Madagascar, au niveau de la frontière entre la Tanzanie et le Kenya.
                                Les Seychelles sont connues pour leur succession de plages plus paradisiaques les unes que les autres, et plus particulièrement les grands rochers de granit poli qui les encadrent.
                                Découverte des îles, baignade, plongée, pêche et farniente seront au programme, et bien d’autres surprises.
                                Des dizaines de randonnées aériennes ou sous-marines n’attendent que vous.
                            </p>
                            <a href="#" class="btn btn-primary">A partir de 1 500 €</a>
                        </div>
                    </div>
                </div>
            </td>
            <td>
                <div class="col-lg-4">
                    <div class="card" style="width: 30rem;">
                        <div align="center">
                            <img src="~/Photo/Perou1.jpg" width="100%" height="300px"/>
                        </div>
                        <div class="card-body">
                            <h3 class="card-title"> Perou </h3>
                            <p class="card-text max-lines">Pour bien des voyageurs, le Pérou est le pays des Andes, des Incas… et du Machu Picchu. Bien que la cité perdue conforte cet imaginaire, une mer fertile et prodigieuse a fait surgir d’autres empires aux vestiges prestigieux, Nazcas, Paracas, Mochicas, et des villes coloniale aux centres historiques inscrits au patrimoine mondial de l’Unesco, embellis de balcons sculptés le long de ruelles étroites et de places soignées… C’est ce que vous invitent à découvrir notre palette de voyages au Pérou.</p>
                            <a href="#" class="btn btn-primary">A partir de 600 €</a>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
    </table>-->

        <div id="div1"><p> résultat ici </p> </div>
    </div>

    <script>

        function ListVoyageTri() {
            var lieu = $('#lieu').val();
            var txtlieu = $('#txtlieu').val();
            $.ajax({
                type: "GET",
                url: "https://localhost:44307//Api/Voyages/?lieu=" + lieu + "&txtlieu=" + txtlieu,
                datatype: 'application/json',
                contentType: 'application/json',
                success: function (data, status) {
                    if (status == "success") {
                        fragment = "<table>";
                        for (var i = 0; i < data.length; i+=3) {
                            if (i < data.length) {
                                fragment += "<tr valign='top'>" +
                                                "<td>"+
                                                    "<div class='col-lg-4'>"+
                                                        "<div class='card' style = 'width: 30rem;'>" +
                                                            "<img src='/Photo/" + data[i].Image + "' width: '100 %' height='300px'/>" +
                                                            "<div class='card-body'>"+
                                                                "<h3 class='card-title'>" + data[i].Pays + "</h3 >"+
                                                                "<p class='card-text max-lines' style = 'text-align: justify'>" + data[i].DescriptionDestination + "</p >" +
                                                                "<p><strong title='"+data[i].DescriptionDestination+"'>...</strong></p>" +
                                                                "<a href='https://localhost:44307/Home/DetailsVoyage/" + data[i].Id + "' class='btn btn-primary'>A partir de " + data[i].PrixVenteUnitaire + "€</a>"+
                                                            "</div>" +
                                                        "</div>" +
                                                    "</div>"+
                                                 "</td>";
                            }

                            if (i + 1 < data.length) {
                                fragment += "<td>" +
                                                "<div class='col-lg-4'>" +
                                                    "<div class='card' style = 'width: 30rem;'>" +
                                                        "<img src='/Photo/" + data[i+1].Image + "' width: '100 %' height='300px'/>" +
                                                        "<div class='card-body'>" +
                                                            "<h3 class='card-title'>" + data[i+1].Pays + "</h3 >" +
                                                            "<p class='card-text max-lines' style = 'text-align: justify'>" + data[i+1].DescriptionDestination + "</p >" +
                                                            "<p><strong title='" + data[i+1].DescriptionDestination + "'>...</strong></p>" +
                                                            "<a href='https://localhost:44307/Home/DetailsVoyage/" + data[i+1].Id + "' class='btn btn-primary'>A partir de " + data[i+1].PrixVenteUnitaire + "€</a>" +
                                                        "</div>" +
                                                    "</div>" +
                                                "</div>" +
                                            "</td>";
                            }

                            if (i + 2 < data.length) {
                                fragment += "<td>" +
                                                "<div class='col-lg-4'>" +
                                                    "<div class='card' style = 'width: 30rem;'>" +
                                                        "<img src='/Photo/" + data[i + 2].Image + "' width: '100 %' height='300px'/>" +
                                                        "<div class='card-body'>" +
                                                            "<h3 class='card-title'>" + data[i + 2].Pays + "</h3 >" +
                                                            "<p class='card-text max-lines' style = 'text-align: justify'>" + data[i + 2].DescriptionDestination + "</p >" +
                                                            "<p><strong title='" + data[i + 2].DescriptionDestination + "'>...</strong></p>" +
                                                            "<a href='https://localhost:44307/Home/DetailsVoyage/" + data[i + 2].Id + "' class='btn btn-primary'>A partir de " + data[i + 2].PrixVenteUnitaire + "€</a>" +
                                                        "</div>" +
                                                    "</div>" +
                                                "</div>"+
                                            "</td>"+
                                        "</tr>";
                            }
                            }
                        fragment += "</table>"
                        $('#div1').html(fragment);
                    }
                },
                error: function (xhr, status, error) {
                    $('#div1').html("Erreur");
                }
            });
        }

    </script>
    <hr />
</div>